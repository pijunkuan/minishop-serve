(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6300374"],{"01cb":function(t,i,e){},"2d98":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"infinite-list",style:{height:t.height+"px"}},[e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"infinite-shop-list",staticStyle:{"min-height":"calc(100% + 1px)"},style:{height:t.height+"px"},attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":""}},[e("div",{staticStyle:{"min-height":"calc(100% + 1px)"}},[t._l(t.items,(function(i,n){return e("li",{key:n,style:{width:t.width+"px",height:t.width+70+"px"},on:{click:function(e){return t.toProduct(i)}}},[e("div",[1*i.stock===0?e("div",{staticClass:"infinite-shop-list__soldout",style:{height:t.width-50+"px",width:t.width-50+"px",lineHeight:t.width-50+"px"}},[e("div",{style:{height:t.width-70+"px",width:t.width-70+"px",lineHeight:t.width-70+"px"}},[t._v("已抢光")])]):t._e(),e("shop-image",{attrs:{src:i.img,rounded:"",type:"fit",width:t.width-20}},[e("div",{staticClass:"product-image-error",style:{height:t.width-20+"px"},attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"iconfont icontupian"})])])],1),e("div",[e("div",{staticClass:"infinite-shop-content__title"},[t._v(t._s(i.product_title))]),e("div",[e("span",{staticClass:"infinite-shop-content__price"},[t._v("¥ "),e("strong",[t._v(t._s(i.price?i.price:"-"))])]),i.oriPrice?e("span",{staticClass:"infinite-shop-content__oriprice"},[t._v("¥ "+t._s(i.oriPrice))]):t._e()])])])})),t.nomore?t._e():e("div",{staticClass:"infinite-shop-list__placeholder"},[t._v(" 加载中... ")]),t.nomore?e("div",{staticClass:"infinite-shop-list__error"},[t._v(" 没有更多了 ")]):t._e()],2)])])},o=[],r=(e("a9e3"),{props:{items:Array,height:{type:Number,default:544},loading:Boolean,nomore:Boolean},data:function(){return{width:0}},mounted:function(){var t=this;this.$nextTick((function(){t.width=window.innerWidth/2-10})),window.onresize=function(){t.width=window.innerWidth/2-10}},methods:{loadMore:function(){this.$emit("load")},toProduct:function(t){void 0!==t.id&&this.$router.push({name:"Product",params:{id:t.id}})}}}),s=r,c=(e("6b28"),e("2877")),a=Object(c["a"])(s,n,o,!1,null,"4c3421bf",null);i["a"]=a.exports},"48f5":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"search-header"},[e("span",[t._v("搜索结果：")]),e("span",{staticClass:"search-header-content"},[t._v(t._s(t.fetchQuery.name))])]),e("infinite-list",{attrs:{items:t.items,loading:t.loading,nomore:t.nomore,height:t.height},on:{load:t.getItems}})],1)},o=[],r=(e("99af"),e("b0c0"),e("ac1f"),e("841c"),e("2d98")),s=e("4c79"),c={components:{InfiniteList:r["a"]},data:function(){return{fetchQuery:{page:0,pageSize:15,Q4S:1,name:""},loading:!1,nomore:!1,items:[],height:0}},created:function(){this.fetchQuery.name=this.$route.query.search},mounted:function(){var t=this;this.$nextTick((function(){t.height=window.innerHeight-165})),window.onresize=function(){t.height=window.innerHeight-165}},beforeRouteLeave:function(t,i,e){"Product"===t.name?i.meta.keepAlive=!0:i.meta.keepAlive=!1,e()},methods:{getItems:function(){var t=this;this.loading=!0,this.nomore=!1,this.fetchQuery.page+=1,Object(s["b"])(this.fetchQuery).then((function(i){var e=i.data.body.data;0===e.length?(t.loading=!0,t.nomore=!0):(t.items=t.items.concat(e),t.loading=!1,t.nomore=!1)})).catch((function(){t.loading=!0,t.nomore=!0}))}},watch:{$route:function(t,i){t!==i&&(this.fetchQuery.name=this.$route.query.search,this.items=[],this.fetchQuery.page=0,this.getItems())}}},a=c,h=(e("fc40"),e("2877")),d=Object(h["a"])(a,n,o,!1,null,"791e63da",null);i["default"]=d.exports},"4c79":function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"a",(function(){return r})),e.d(i,"c",(function(){return s}));var n=e("b775");function o(t){return Object(n["a"])({url:"product",method:"get",params:t})}function r(t){return Object(n["a"])({url:"product/"+t,method:"get"})}function s(){return Object(n["a"])({url:"category",method:"get"})}},"6b28":function(t,i,e){"use strict";var n=e("01cb"),o=e.n(n);o.a},"8c01":function(t,i,e){},"99af":function(t,i,e){"use strict";var n=e("23e7"),o=e("d039"),r=e("e8b5"),s=e("861d"),c=e("7b0b"),a=e("50c4"),h=e("8418"),d=e("65f0"),u=e("1dde"),l=e("b622"),f=e("2d00"),p=l("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),w=u("concat"),_=function(t){if(!s(t))return!1;var i=t[p];return void 0!==i?!!i:r(t)},b=!v||!w;n({target:"Array",proto:!0,forced:b},{concat:function(t){var i,e,n,o,r,s=c(this),u=d(s,0),l=0;for(i=-1,n=arguments.length;i<n;i++)if(r=-1===i?s:arguments[i],_(r)){if(o=a(r.length),l+o>m)throw TypeError(g);for(e=0;e<o;e++,l++)e in r&&h(u,l,r[e])}else{if(l>=m)throw TypeError(g);h(u,l++,r)}return u.length=l,u}})},fc40:function(t,i,e){"use strict";var n=e("8c01"),o=e.n(n);o.a}}]);