(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab0870ea"],{2120:function(t,s,e){},aeab:function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"login-background"},[e("div",{staticClass:"login-form"},[e("shop-image",{staticClass:"login-form-avatar",attrs:{width:80,circled:""}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"},[e("shop-icon",{staticStyle:{"background-color":"#fff"},attrs:{name:"iconzhucetouxiang"}})],1),e("div",{attrs:{slot:"error"},slot:"error"},[e("shop-icon",{staticStyle:{"background-color":"#fff"},attrs:{name:"iconzhucetouxiang"}})],1)]),e("shop-input",{ref:"mobile",staticClass:"login-form-input",attrs:{validate:"",rules:t.rules.mobile,placeholder:"请输入手机号"},model:{value:t.user.mobile,callback:function(s){t.$set(t.user,"mobile",s)},expression:"user.mobile"}},[e("span",{staticClass:"login-prepend",attrs:{slot:"prepend"},slot:"prepend"},[t._v("登录名")])]),e("shop-input",{ref:"password",staticClass:"login-form-input",attrs:{type:t.passType,validate:"",rules:t.rules.password},model:{value:t.user.password,callback:function(s){t.$set(t.user,"password",s)},expression:"user.password"}},[e("span",{staticClass:"login-prepend",attrs:{slot:"prepend"},slot:"prepend"},[t._v("密码")]),e("span",{attrs:{slot:"append"},on:{click:function(s){t.passType="text"}},slot:"append"},["password"===t.passType?e("shop-icon",{attrs:{name:"yanjing-bi",size:"mini"}}):t._e()],1),e("span",{attrs:{slot:"append"},on:{click:function(s){t.passType="password"}},slot:"append"},["text"===t.passType?e("shop-icon",{attrs:{name:"yanjing",size:"mini"}}):t._e()],1)]),e("shop-button",{staticClass:"login-form-button",class:{"is-loading":t.btnLoading},on:{click:t.confirmLogin}},[t._v("登 录")]),e("div",{staticClass:"login-form-bottom"},[e("div",[t._v("还没有账号？"),e("div",{staticClass:"bottom-btn",on:{click:t.toRegister}},[t._v("注册")])]),e("div",{staticClass:"bottom-btn",staticStyle:{"text-align":"right"},on:{click:t.toForget}},[t._v("找回密码")])])],1)])},i=[],a=e("76a0"),n={data:function(){return{user:{mobile:"",password:""},passType:"password",rules:{mobile:[{required:!0,message:"请输入手机号"}],password:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少为6位"}]},btnLoading:!1}},methods:{toRegister:function(){this.$router.push({name:"Register"})},toForget:function(){this.$router.push({name:"Forget"})},confirmLogin:function(){var t=this;this.btnLoading||this.$refs.mobile.validation((function(s){t.$refs.password.validation((function(e){s&&e&&(t.btnLoading=!0,t.login())}))}))},login:function(){var t=this;this.$store.dispatch("login",this.user).then((function(){Object(a["Toast"])("登录成功"),setTimeout((function(){t.afterLogin(),t.btnLoading=!1}),1e3)})).catch((function(s){Object(a["Toast"])({message:s.response.data.message,duration:2e3}),t.btnLoading=!1}))},afterLogin:function(){if(this.$refs.mobile.clearValidate(),this.$refs.password.clearValidate(),void 0!==this.$route.query.from)if(void 0!==this.$route.query.type){var t={};t[this.$route.query.type]=this.$route.query.query,this.$router.push({name:this.$route.query.from,query:t})}else this.$router.push({name:this.$route.query.from});else this.$router.push({name:"UserHome"})}}},r=n,l=(e("b76d5"),e("2877")),c=Object(l["a"])(r,o,i,!1,null,"78ae68c2",null);s["default"]=c.exports},b76d5:function(t,s,e){"use strict";var o=e("2120"),i=e.n(o);i.a}}]);